datosprograma = Array(
    {
        "id_programa": "22",
        "nombre_programa": "ffffffff",
        "acronimo_programa": "rrr",
        "nombre_original_programa": "rrrrrrr",
        "autor_programa": "fffffff",
        "autor_original_programa": "cc",
        "ano_programa": "2023",
        "ano_original_programa": "2000",
        "requisitos_programa": "q",
        "poblacion_desde_programa": "0",
        "poblacion_hasta_programa": "0",
        "unidad_poblacion": "AÑOS",
        "tipo_programa": "EVALUACIÓN",
        "tiempo_aplicacion_programa": "0",
        "descrip_interp_programa": "qaaa",
        "fichero_programa": "Arquitectura.jpg",
        "enlace_programa": "q",
        "formato_programa": "ELECTRÓNICO",
        "modo_correccion_programa": "ELECTRÓNICO",
        "modo_aplicacion_programa": "COLECTIVO",
        "imagen_programa": ""
    },
    {
        "id_programa": "23",
        "nombre_programa": "vvvvvv",
        "acronimo_programa": "vvvvvvv",
        "nombre_original_programa": "vvvvvvv",
        "autor_programa": "vvvvvvv",
        "autor_original_programa": "vvvvvvv",
        "ano_programa": "2023",
        "ano_original_programa": "2000",
        "requisitos_programa": "q",
        "poblacion_desde_programa": "0",
        "poblacion_hasta_programa": "0",
        "unidad_poblacion": "AÑOS",
        "tipo_programa": "INTERVENCIÓN",
        "tiempo_aplicacion_programa": "0",
        "descrip_interp_programa": "qaaa",
        "fichero_programa": "Arquitectura.jpg",
        "enlace_programa": "q",
        "formato_programa": "PAPEL",
        "modo_correccion_programa": "PAPEL",
        "modo_aplicacion_programa": "COLECTIVO",
        "imagen_programa": ""
    },
    {
        "id_programa": "24",
        "nombre_programa": "vvvvvv",
        "acronimo_programa": "vvvvvvv",
        "nombre_original_programa": "vvvvvvv",
        "autor_programa": "vvvvvvv",
        "autor_original_programa": "vvvvvvv",
        "ano_programa": "2023",
        "ano_original_programa": "2000",
        "requisitos_programa": "q",
        "poblacion_desde_programa": "0",
        "poblacion_hasta_programa": "0",
        "unidad_poblacion": "AÑOS",
        "tipo_programa": "INTERVENCIÓN",
        "tiempo_aplicacion_programa": "0",
        "descrip_interp_programa": "qaaa",
        "fichero_programa": "Arquitectura.jpg",
        "enlace_programa": "q",
        "formato_programa": "PAPEL",
        "modo_correccion_programa": "PAPEL",
        "modo_aplicacion_programa": "COLECTIVO",
        "imagen_programa": ""
    }
)

datospersonas = Array(
    {
        "dni": "11111111H",
        "nombre_persona": "admin",
        "apellidos_persona": "admin",
        "fechaNacimiento_persona": "2022-10-05",
        "direccion_persona": "admin",
        "telefono_persona": "999999999",
        "email_persona": "admin@admin.admin",
        "foto_persona": "admin.jpg"
    },
    {
        "dni": "29506913Y",
        "nombre_persona": "pruebaguardar",
        "apellidos_persona": "probando prueba",
        "fechaNacimiento_persona": "2022-12-26",
        "direccion_persona": "calle friuchi",
        "telefono_persona": "987654321",
        "email_persona": "usuariopo@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "34277162D",
        "nombre_persona": "pepe",
        "apellidos_persona": "rein tor",
        "fechaNacimiento_persona": "2023-06-01",
        "direccion_persona": "ourense 45",
        "telefono_persona": "657894562",
        "email_persona": "pepe@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "35586957T",
        "nombre_persona": "aaaaa",
        "apellidos_persona": "gggggggggggg",
        "fechaNacimiento_persona": "2023-09-15",
        "direccion_persona": "gggggggggggggg",
        "telefono_persona": "555555555",
        "email_persona": "usuario@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "35600364k",
        "nombre_persona": "asdasdsa",
        "apellidos_persona": "adsasdasd",
        "fechaNacimiento_persona": "2023-08-30",
        "direccion_persona": "dasasdasdsadasdadada",
        "telefono_persona": "666666666",
        "email_persona": "adsadsaddasd@adadsdad",
        "foto_persona": ""
    },
    {
        "dni": "35649097v",
        "nombre_persona": "Laurent",
        "apellidos_persona": "Savage",
        "fechaNacimiento_persona": "1212-02-21",
        "direccion_persona": "212121212121212121212121212",
        "telefono_persona": "212121212",
        "email_persona": "21savage@gmail.com",
        "foto_persona": "2121savage.png"
    },
    {
        "dni": "36087878G",
        "nombre_persona": "José Luis",
        "apellidos_persona": "Moreno",
        "fechaNacimiento_persona": "1970-01-01",
        "direccion_persona": "hhjhjhj",
        "telefono_persona": "986202020",
        "email_persona": "pepe@pepe.com",
        "foto_persona": "lkdjaf"
    },
    {
        "dni": "39489215D",
        "nombre_persona": "Isamel",
        "apellidos_persona": "Martinez",
        "fechaNacimiento_persona": "2001-06-20",
        "direccion_persona": "Camino de los BArros",
        "telefono_persona": "674881263",
        "email_persona": "pepe123lopez@gmail.com",
        "foto_persona": "foto.jpg"
    },
    {
        "dni": "44663175G",
        "nombre_persona": "dani",
        "apellidos_persona": "dddddddddddd",
        "fechaNacimiento_persona": "2022-12-30",
        "direccion_persona": "Calle Río Avia Nº5 2ºA",
        "telefono_persona": "655200125",
        "email_persona": "san@gmail.com",
        "foto_persona": "hola.jpg"
    },
    {
        "dni": "45161969C",
        "nombre_persona": "Floro",
        "apellidos_persona": "Gonzalez",
        "fechaNacimiento_persona": "1999-06-16",
        "direccion_persona": "asadasdasdsad",
        "telefono_persona": "674589254",
        "email_persona": "flr@gail.com",
        "foto_persona": ""
    },
    {
        "dni": "48791636B",
        "nombre_persona": "roott",
        "apellidos_persona": "lopez",
        "fechaNacimiento_persona": "2002-12-11",
        "direccion_persona": "progreso 14",
        "telefono_persona": "635124589",
        "email_persona": "root@gmail.com",
        "foto_persona": "foto.png"
    },
    {
        "dni": "54231827v",
        "nombre_persona": "eva",
        "apellidos_persona": "castiñeira",
        "fechaNacimiento_persona": "2001-02-01",
        "direccion_persona": "casa",
        "telefono_persona": "644675634",
        "email_persona": "eva@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "66766749A",
        "nombre_persona": "sakdaskdj",
        "apellidos_persona": "asdnsajdsna",
        "fechaNacimiento_persona": "2021-01-06",
        "direccion_persona": "dksaldkasldkasd",
        "telefono_persona": "182973819",
        "email_persona": "kdsladkasldkals@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "74122589D",
        "nombre_persona": "nombre_persona",
        "apellidos_persona": "apellidos_persona",
        "fechaNacimiento_persona": "2023-06-15",
        "direccion_persona": "direccion_persona",
        "telefono_persona": "127000001",
        "email_persona": "asdf@gmail.com",
        "foto_persona": "foto.png"
    },
    {
        "dni": "77465669j",
        "nombre_persona": "pepe",
        "apellidos_persona": "apellido",
        "fechaNacimiento_persona": "9919-03-12",
        "direccion_persona": "direccion",
        "telefono_persona": "234232345",
        "email_persona": "emailPe@persona.com",
        "foto_persona": "foto"
    },
    {
        "dni": "77481612V",
        "nombre_persona": "Adrián",
        "apellidos_persona": "Gamallo Piedra",
        "fechaNacimiento_persona": "2001-05-08",
        "direccion_persona": "baires",
        "telefono_persona": "624618316",
        "email_persona": "adriagadnfnngw@gmail.com",
        "foto_persona": "fwdsfadsf"
    },
    {
        "dni": "81423556Z",
        "nombre_persona": " AinM",
        "apellidos_persona": " AinM",
        "fechaNacimiento_persona": "1900-12-02",
        "direccion_persona": " AinM 123                ",
        "telefono_persona": "611121311",
        "email_persona": "ainm@outlook.org",
        "foto_persona": "AinM.png"
    },
    {
        "dni": "82349649N",
        "nombre_persona": "dasdfsgfdgfd",
        "apellidos_persona": "hgfjghghjgh",
        "fechaNacimiento_persona": "2009-09-09",
        "direccion_persona": "dsagfgfdghfd",
        "telefono_persona": "321321321",
        "email_persona": "dasdsa@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "83479682D",
        "nombre_persona": "sdksadksadkd",
        "apellidos_persona": "asdmaskd",
        "fechaNacimiento_persona": "2021-01-04",
        "direccion_persona": "mdsnadjnasjdans",
        "telefono_persona": "891793674",
        "email_persona": "lsdkldksladksa@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "88051587C",
        "nombre_persona": "kasdkaskda",
        "apellidos_persona": "dsakdksakdaskdk",
        "fechaNacimiento_persona": "2021-01-01",
        "direccion_persona": "askdkasdkasdkask",
        "telefono_persona": "278718298",
        "email_persona": "asdkasdkadslka@gmail.com",
        "foto_persona": ""
    },
    {
        "dni": "99999999R",
        "nombre_persona": "ejemplo1",
        "apellidos_persona": "ejemplo1",
        "fechaNacimiento_persona": "1970-01-01",
        "direccion_persona": "Avenida de Lugo",
        "telefono_persona": "127000001",
        "email_persona": "test@test.com",
        "foto_persona": "foto.png"
    }
);

datosusuarios = Array(
    {
        "dni": "39489215D",
        "usuario": "Usuario1",
        "contrasena": "3f1308149ab8219e32bf9d91028c4eb4",
        "id_rol": {
            "id_rol": "1",
            "rol_name": "Básico",
            "rol_description": "Usuario Básico"
        }
    },
    {
        "dni": "88051587C",
        "usuario": "a",
        "contrasena": "fadfafadfadf",
        "id_rol": {
            "id_rol": "1",
            "rol_name": "Básico",
            "rol_description": "Usuario Básico"
        }
    },
    {
        "dni": "35600364k",
        "usuario": "adsada",
        "contrasena": "056f32ee5cf49404607e368bd8d3f2af",
        "id_rol": {
            "id_rol": "1",
            "rol_name": "Básico",
            "rol_description": "Usuario Básico"
        }
    },
    {
        "dni": "99999999R",
        "usuario": "ejemplo1",
        "contrasena": "ejemplo1",
        "id_rol": {
            "id_rol": "1",
            "rol_name": "Básico",
            "rol_description": "Usuario Básico"
        }
    },
    {
        "dni": "45161969C",
        "usuario": "floroa",
        "contrasena": "1234",
        "id_rol": {
            "id_rol": "1",
            "rol_name": "Básico",
            "rol_description": "Usuario Básico"
        }
    },
    {
        "dni": "11111111H",
        "usuario": "root",
        "contrasena": "63a9f0ea7bb98050796b649e85481845",
        "id_rol": {
            "id_rol": "0",
            "rol_name": "Admin",
            "rol_description": "Administrador"
        }
    },
    {
        "dni": "35586957T",
        "usuario": "user123",
        "contrasena": "6ad14ba9986e3615423dfca256d04e3f",
        "id_rol": {
            "id_rol": "1",
            "rol_name": "Básico",
            "rol_description": "Usuario Básico"
        }
    },
    {
        "dni": "74122589D",
        "usuario": "usuario",
        "contrasena": "asdfadfaf",
        "id_rol": {
            "id_rol": "1",
            "rol_name": "Básico",
            "rol_description": "Usuario Básico"
        }
    }
);






datosalumnos = Array(
    {
        "dniAlumno":"11111111A",
        "repetidor":true,
        "nombreAlumno":"javi"
    },
    {
        "dniAlumno":"222222222A",
        "repetidor":false,
        "nombreAlumno":"pepe"
    }
);

AtributosShowAlumnos = Array('dniAlumno','nombreAlumno');

//funcion para conseguir las claves para tener los nombres de los atributo

// para vosotros


function mostrarTitulos(titulos){

    let cabecera = document.createElement('thead');

    let textolineatitulos = '<tr>';

    for (let atributo in titulos){

        textolineatitulos += '<th>'+titulos[atributo]+'</th>';

    }

    textolineatitulos += '<th>Editar</th><th>Borrar</th><th>Detalle</th>';

    textolineatitulos += '</tr>';

    cabecera.innerHTML = textolineatitulos;

    return cabecera;

}

function mostrarDatos(entidad, datosamostrar, columnasamostrar){

    let cuerpo = document.createElement('tbody');

    let textolineadatos = '';

    for (let i=0;i<datosamostrar.length;i++){

        textolineadatos += '<tr>';

        //bucle recorra todos los atributos y construya string para pasar como argumento a las funciones de formularios
        let datosfuncion = '';

        for (let clave in datosamostrar[i]){

            datosfuncion += "'"+datosamostrar[i][clave]+"',";

            if (columnasamostrar.includes(clave)){

                textolineadatos += '<td>'+datosamostrar[i][clave]+'</td>';

            }
        }

        datosfuncion = datosfuncion.substring(0, datosfuncion.length - 1);

        // crear los td para cada boton de llamada a funcion de formulario de accion (EDIT, DELETE O SHOWCURRENT)
        // las funciones deberian llamarse createForm+_ACCION+'_entidad'()
        //let lineaedit = '<td><a onclick="createForm_EDIT_'+entidad+'('+datosfuncion+');">Editar</a></td>';
        //let lineaedit = '<td><a onclick=\"alert();\">Editar</a></td>';

        let lineaedit = crearboton('EDIT',entidad, datosfuncion);
        let lineadelete = crearboton('DELETE',entidad, datosfuncion);
        let lineashowcurrent = crearboton('SHOWCURRENT',entidad, datosfuncion);

        textolineadatos += lineaedit+lineadelete+lineashowcurrent;

        textolineadatos += '</tr>';

    }
    
    cuerpo.innerHTML = textolineadatos;

    return cuerpo;

}

function crearboton(accion, entidad, parametros){
    let columna = document.createElement('td');
    let opcion = document.createElement('a');
    textoonclick = "createForm_"+accion+"_"+entidad+"("+parametros+");";
    opcion.setAttribute('onclick',textoonclick);
    opcion.innerHTML = accion;
    columna.appendChild(opcion);
    return columna.outerHTML;

}

function creartitulotabla(entidad){
    document.getElementById('id_titulo_pagina').innerHTML = 'Gestión de '+entidad;
}

function mostrartabla(entidad, datosamostrar, columnasamostrar){

    creartitulotabla(entidad);

    tablaalumnos = document.createElement('table');
    tablaalumnos.id = 'tabladatosalumnos';
    tablaalumnos.border = "1";
    
    document.getElementById('id_tabla_datos').appendChild(tablaalumnos);

    cabeceratabla = mostrarTitulos(columnasamostrar);

    tablaalumnos.appendChild(cabeceratabla);

    let cuerpotabla = mostrarDatos(entidad, datosamostrar, columnasamostrar);

    tablaalumnos.appendChild(cuerpotabla);

}

function createForm_EDIT_alumnos(a,b,c){
    console.log('por fin');
}
